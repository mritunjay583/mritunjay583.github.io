<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Guidelines for programmatic Integration with DMDB #    Use only the user provided to you for your specific application. Even if you have any other credentials like developers credentials, some other application&rsquo;s credentials, etc.; dont use them. Ask for new credentials for each new application/dashboard.
  Connection Timeout (300ms) - Use this while making the connection to DB. If the connection fail within the timeout move further, log error (raise alarms).">
<meta name="theme-color" content="#FFFFFF"><meta property="og:title" content="programmatic access and Integration" />
<meta property="og:description" content="Guidelines for programmatic Integration with DMDB #    Use only the user provided to you for your specific application. Even if you have any other credentials like developers credentials, some other application&rsquo;s credentials, etc.; dont use them. Ask for new credentials for each new application/dashboard.
  Connection Timeout (300ms) - Use this while making the connection to DB. If the connection fail within the timeout move further, log error (raise alarms)." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://mritunjay583.github.io/docs/docs/usage-guidelines/programmatic-access-and-integration/" /><meta property="article:section" content="docs" />
<meta property="article:published_time" content="2019-03-26T08:47:11&#43;01:00" />
<meta property="article:modified_time" content="2019-03-26T08:47:11&#43;01:00" />

<title>programmatic access and Integration | DATAMART</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/book.min.e246e6a45b940b6ff71d8216783f10a80d910290a7c364c8bfd5d305d8545d62.css" integrity="sha256-4kbmpFuUC2/3HYIWeD8QqA2RApCnw2TIv9XTBdhUXWI=">
<script defer src="/en.search.min.04dea4370b56e4f2b68a0b04d656bed9137be5574171370858866b5246cce744.js" integrity="sha256-BN6kNwtW5PK2igsE1la&#43;2RN75VdBcTcIWIZrUkbM50Q="></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a href="/"><span>DATAMART</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>











  



  
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-6d87ea0de7b98d214d87150d1024f51e" class="toggle" checked />
    <label for="section-6d87ea0de7b98d214d87150d1024f51e" class="flex justify-between">
      <a href="http://mritunjay583.github.io/docs/docs/" class="">Docs</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-76e70ba71162eb688a4952e5576fd6b7" class="toggle"  />
    <label for="section-76e70ba71162eb688a4952e5576fd6b7" class="flex justify-between">
      <a href="http://mritunjay583.github.io/docs/docs/developer/" class="">Developer</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="http://mritunjay583.github.io/docs/docs/developer/db-design-solution-hld/" class="">Db-Design-Solution</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://mritunjay583.github.io/docs/docs/developer/db-design-use-case-problem-analysis/" class="">db-design-use-case-problem-analysis</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://mritunjay583.github.io/docs/docs/developer/documentation-publish/" class="">documentation publish</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://mritunjay583.github.io/docs/docs/developer/outcomes-limitations-support/" class="">outcomes limitations support</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://mritunjay583.github.io/docs/docs/developer/roadmap/" class="">Roadmap</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-e9be04ad509fc93ce902011efeae48af" class="toggle" checked />
    <label for="section-e9be04ad509fc93ce902011efeae48af" class="flex justify-between">
      <a href="http://mritunjay583.github.io/docs/docs/usage-guidelines/" class="">Usage Guidelines</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="http://mritunjay583.github.io/docs/docs/usage-guidelines/create-indexes-in-dmdb-guidlines/" class="">create index in dmdb</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://mritunjay583.github.io/docs/docs/usage-guidelines/datamarts-creations-guidelines/" class="">datamart creation guidelines</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://mritunjay583.github.io/docs/docs/usage-guidelines/dmdb-usage-guide/" class="">dmdb usage</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://mritunjay583.github.io/docs/docs/usage-guidelines/metric_table-design-and-usage/" class="">metric table design</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://mritunjay583.github.io/docs/docs/usage-guidelines/navigation-around-views-and-tables/" class="">navigation-around-views-and-tables</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://mritunjay583.github.io/docs/docs/usage-guidelines/api/offset-management-apis-usage/" class="">Offset management</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://mritunjay583.github.io/docs/docs/usage-guidelines/programmatic-access-and-integration/" class=" active">programmatic access and Integration</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>















</nav>




  <script>(function(){var a=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(b){localStorage.setItem("menu.scrollTop",a.scrollTop)}),a.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>programmatic access and Integration</strong>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li></li>
      </ul>
    </li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown"><h5 id="guidelines-for-programmatic-integration-with-dmdb">
  Guidelines for programmatic Integration with DMDB
  <a class="anchor" href="#guidelines-for-programmatic-integration-with-dmdb">#</a>
</h5>
<ol>
<li>
<p>Use only the user provided to you for your specific application. Even if you have any other credentials like developers credentials, some other application&rsquo;s credentials, etc.; dont use them. Ask for new credentials for each new application/dashboard.</p>
</li>
<li>
<p>Connection Timeout (300ms) -  Use this while making the connection to DB. If the connection fail within the timeout move further, log error (raise alarms). The default is unlimited time, so application can get stuck when DB is down if this is not specified.</p>
<ol>
<li>Retry continuously for 10 times for connection if you received ~ConnectionExhaust, ~DNSNotResolvedException, ~AddressUnavailable, ~ConnectionRefused etc. without any backoff.</li>
</ol>
</li>
<li>
<p>Query Timeout (500ms) - Use this while querying data from DB. Ideally the queries should run in around ~150ms so this is a much safer value.</p>
<ol>
<li>Retry Logic - If the query takes &gt;500ms , then because of timeout you should get ~QueryTimeoutException. Handle this and retry the query now with a timeout of
<strong>3000ms</strong>. Retry only <strong>once</strong>.</li>
</ol>
</li>
<li>
<p>General Retry in case of other exception - In case of exceptions like ~ConnectionExhaust, ~DBObjectNotAvailable, ~DBNotAvailable, ~DBShuttingDown which could be transient in nature,
use retry mechanism with a backoff. The configuration of this depends on your use-case and situations. The suggested values is 3 times retry with a increasing backoff starting from 1000ms. <br>
Please don&rsquo;t retry for every Exception(blanket) eg. ~SyntaxIssueException, ~PermissionException etc. because these are not transient and cannot be fixed without manual intervention.</p>
</li>
<li>
<p>If your application needs to fire multiple queries for a single page load, then start executing all queries in parallel. The database serves can serve of several concurrent requests at once.</p>
<ol>
<li>
<p>So when the dashboard page starts to open it fires all the queries for the selected facilities/group of facilities for a day/range of days.</p>
<p>For example,</p>
<p>if there are 5 metrics being shown on a page on the dashboard, and from DB th e respective query execution time is 120ms, 150ms, 30ms, 68ms, 190ms
then, the total dashboard page loading time will be approx equal to  =  maximum query execution time among all queries - 190ms in this case + API compute time + network latency = ~220ms</p>
</li>
</ol>
</li>
<li>
<p>Always use datamart-db.delhivery.com endpoint for connecting to DB. This is a replica machine and all read queries from application/dashboard backend should be fired to this endpoint only.</p>
</li>
<li>
<p>For connection pooling, use connection pooling if possible. There are libraries available for pooling at application level in most languages.
Each user is alloted a 25 connections to start with. THis can be increased on case-to-case basis.</p>
</li>
</ol>
<blockquote>
<p>To get credentials for a new dashboard/application backend please contact <a href="mailto:dg-tech@delhivery.com">dg-tech@delhivery.com</a></p>
</blockquote>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>



  <script>(function(){function a(c){const a=window.getSelection(),b=document.createRange();b.selectNodeContents(c),a.removeAllRanges(),a.addRange(b)}document.querySelectorAll("pre code").forEach(b=>{b.addEventListener("click",function(c){a(b.parentElement),navigator.clipboard&&navigator.clipboard.writeText(b.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li></li>
      </ul>
    </li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












